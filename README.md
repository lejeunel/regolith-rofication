# Rofication

**Rofication** is a minimalistic notification system. It is loosely modeled after notification
centers on android and windows 10. The main idea is to not annoy (e.g. overlap parts of my
desktop) but still keep a persistent list of messages. Notifications are useful, however to many
notification showing up to often (e.g. my work mail popups fall in this category) distract from the
current task and are therefor dismissed without proper reviewing. The goal is to show (in a single
clear place) there are notifications but not pop them up. It is up to the user to review the
notifications when time is available. If things are critical one should use a more direct media
(e.g. face to face or phone). 

To summarize **Rofications**, it has:

 * 1 point to see if there are notifications. For example the status bar of your Desktop
   Environment.
![Notification Bar](https://raw.githubusercontent.com/DaveDavenport/Rofication/master/Picture/bar.png)
 * An application to (re)view all open notifications.
![Notification Bar](https://raw.githubusercontent.com/DaveDavenport/Rofication/master/Picture/client.png)
 * Persistent notifications, they stay around until dismissed. They should stick around, even over reboots.

# Techniques used

**Rofication** implements a notification daemon following the [Galago Desktop Notification
standard](http://www.galago-project.org/specs/notification/).  This is used by most Linux desktop
environment and most relevant application support this. It is easily script-able using
`notify-send`.  **Rofication** aims to be a drop-in replacement for existing notification daemons.

**Rofication** tries to re-use as much existing as possible. It uses **Rofi** for displaying, 
i3blocks for the unintrusive notification and python for `d-bus` implementation of notification
daemon.

# Structure
The main structure is like depicted below. The daemon acts as a storage point for the dbus messages
generated by the applications. The unix-socket interface allows clients to query the storage. A
propper protocol still has to be defined.


```
┌─────────────┐           ┌───────────────────┐                      ┌────────────────┐
│ application │ --dbus--> │ rofication-daemon │ <--- unix-socket --> │ rofication-gui │
└─────────────┘           └───────────────────┘       │              └────────────────┘
                                |                     │             ┌──────────────────────────┐
                                |                     \-----------> │ rofication-statusi3blocks│
                            <hdd:json-db>                           └──────────────────────────┘
```

The components consist of:

## Daemon

**Rofication** daemon is a small python script that listens for notification messages on the local
dbus. Notifications are internally queue'd (an preserved) and can be viewed by a client via a
unix-socket. It is just a simple storage for notifications.

## Notification 

**Rofication** does not implement it own 'widget' to display this notification. Instead it can be
easily integrated into existing tools.  Currently we ship a small script to integrate into
`i3-blocks`. This shows the number of notifications and signals when there are critical
notifications. Ideally there should be several small scripts that implements this for different
desktop environments.

## GUI

The **Rofication** gui consists of a small python script wrapping **Rofi**. The GUI allows the user
to view notification, mark them seen and dismiss them.
Also, it allows to set custom keybindings options via a **Xresources** config
file (see **config.example**):

```
./rofication-gui -c config
```



## CLI

*This still needs to be written*
	 
